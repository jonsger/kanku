<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="UTF-8">
    <title>Kanku by M0ses</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="stylesheets/normalize.css" media="screen">
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/github-light.css" media="screen">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/foundation/6.2.4/foundation.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/motion-ui/1.1.1/motion-ui.min.css" />

<style>
div.hidden_content, div.hidden_faq {
  visibility: hidden;
  display: none;
}
div.show_content {
  visibility: inline;
  display: inline;
}
#navbar {
  list-style-type: none;
}
#navbar li {
  display: inline;
}
a.faq {
  color: #159957
}
</style>
  </head>
  <body>
    <section class="page-header">
      <h1 class="project-name">Kanku</h1>
      <h2 class="project-tagline"></h2>
      <a href="https://github.com/M0ses/kanku" class="btn">View on GitHub</a>
      <a href="https://github.com/M0ses/kanku/zipball/master" class="btn">Download .zip</a>
      <a href="https://github.com/M0ses/kanku/tarball/master" class="btn">Download .tar.gz</a>
    </section>

    <section class="main-content">
<ul id=navbar>
  <li>
    <a href='#about'                id='about-btn'                class="btn_highlighted nav_btn" onclick=switch_to('about')>About</a>
  </li>
  <li>
    <a href='#getting_started'      id='getting_started-btn'      class="btn_dark nav_btn"        onclick=switch_to('getting_started')>Getting Started</a>
  </li>
  <li>
    <a href='#overview_and_concept' id='overview_and_concept-btn' class="btn_dark nav_btn"        onclick=switch_to('overview_and_concept')>Overview and Concept</a>
  </li>
  <li>
    <a href='#faq'                  id='faq-btn'                  class="btn_dark nav_btn"        onclick=switch_to('faq')>FAQ / Known Issues</a>
  </li>
  <li>
    <select id="os_version" onchange=change_os_version()>
      <option value='<YOUR_OS_VERSION_ID_HERE>'>Please choose your OS</option>
      <option value="openSUSE_Tumbleweed">openSUSE Tumbleweed</option>
      <option value="openSUSE_Leap_42.3">openSUSE Leap 15.0</option>
      <option value="openSUSE_Leap_42.3">openSUSE Leap 42.3</option>
      <option value="openSUSE_Leap_42.2">openSUSE Leap 42.2</option>
      <option value="SLE_12_SP3">SLES 12 SP3</option>
    </select>
  </li>
</ul>
<!-- About --> 
<div id=about-div class="page_container show_content">
    <h1>
    <a id="disclaimer" class="anchor" href="#disclaimer" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>What is kanku?</h1>
    <p>kanku is designed to give you a better integration of your kiwi images built by <a href="http://openbuildservice.org" target=_blank>the Open Build Service (OBS)</a> in your development and testing workflow.</p>
    <p>It can be run in two modes
       <ul>
           <li>The developer mode (e.g. on your laptop/workstation) while developing</li>
           <li>The server mode (e.g. a dedicated Server for QA) to run tasks/tests periodically</li>
       </ul>
      <h2>The developer mode</h2>
        <p>In a simple configuration file in YAML format you can specify the location of your kiwi image and actions to be executed after downloading the image and starting a Virtual Machine using the downloaded image. You can configure one or multiple jobs per project. These jobs consists of one or more tasks which use a handler module and the given options.<br>
          With the kanku command line tool you can easily
          <ul>
             <li>create a new VM based on the configured image</li>
             <li>run commands on the VM via SSH or serial console</li>
             <li>use salt-ssh to configure your VM</li>
             <li>access the created VM via ssh</li>
             <li>share your project/source directory with the VM</li>
          </ul>
        </p>
      <h2>The server mode</h2>
        <p>In server mode, a daemon process, the "kanku-scheduler", can run configured jobs peridocally or you can trigger a job manually. As the job configuration is very similar to the developer mode, you can easily adopt the configurations used in developer mode. The results can be shown via WebUI or with the kanku command line tool in a terminal</p>

<div class="orbit" role="region" aria-label="Screenshots" data-orbit>
  <ul class="orbit-container">
    <button class="orbit-previous"><span class="show-for-sr">Previous Slide</span>&#9664;&#xFE0E;</button>
    <button class="orbit-next"><span class="show-for-sr">Next Slide</span>&#9654;&#xFE0E;</button>
    <li class="is-active orbit-slide">
      <img class="orbit-image" src="images/kanku_workflow.png" alt="Concept">
      <!-- <figcaption class="orbit-caption">Concept</figcaption> -->
    </li>
    <li class="is-active orbit-slide">
      <img class="orbit-image" src="images/screenshots/kanku_screenshot-guest_overview.png" alt="Guest Overview">
      <!-- <figcaption class="orbit-caption">Guest Overview.</figcaption> -->
    </li>
    <li class="orbit-slide">
      <img class="orbit-image" src="images/screenshots/kanku_screenshot-job_history.png" alt="Job History">
      <!-- <figcaption class="orbit-caption">Job History</figcaption> -->
    </li>
    <li class="orbit-slide">
      <img class="orbit-image" src="images/screenshots/kanku_screenshot-job_list-1.png" alt="Job List">
      <!-- <figcaption class="orbit-caption">Job List</figcaption> -->
    </li>
    <li class="orbit-slide">
      <img class="orbit-image" src="images/screenshots/kanku_screenshot-job_list-2.png" alt="Job List 1">
      <!-- <figcaption class="orbit-caption">Job List 1</figcaption> -->
    </li>
    <li class="orbit-slide">
      <img class="orbit-image" src="images/screenshots/kanku_screenshot-job_list-3.png" alt="Job List 2">
      <!-- <figcaption class="orbit-caption">Job List 2</figcaption> -->
    </li>
  </ul>

  <nav class="orbit-bullets">
    <button class="is-active" data-slide="0"><span class="show-for-sr">First slide details.</span><span class="show-for-sr">Current Slide</span></button>
    <button data-slide="1"><span class="show-for-sr">Second slide details.</span></button>
    <button data-slide="2"><span class="show-for-sr">Third slide details.</span></button>
    <button data-slide="3"><span class="show-for-sr">Fourth slide details.</span></button>
    <button data-slide="4"><span class="show-for-sr">Fifth slide details.</span></button>
  </nav>
</div>




</div>
<!-- Getting started --> 
<div id=getting_started-div class="page_container hidden_content">
    <h1>
    <a id="installation" class="anchor" href="#installation" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Installation</h1>

    <h2>
    <a id="automatic-installation-with-yast-one-click-install" class="anchor" href="#automatic-installation-with-yast-one-click-install" aria-hidden="true">
      <span aria-hidden="true" class="octicon octicon-link"></span></a>Automatic installation with yast one-click-install</h2>

    <p>Simply search on <a id=ymp_link href="https://software.opensuse.org/package/kanku">software.opensuse.org</a> for your distribution and install the package</p>

    <h2>
    <a id="manual-installation" class="anchor" href="#manual-installation" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Manual installation</h2>

    <h3>
    <a id="configuration-of-software-respositories" class="anchor" href="#configuration-of-software-respositories" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Configuration of software respositories</h3>

    <pre><code>
sudo zypper ar obs://devel:kanku devel:kanku
sudo zypper ar obs://devel:kanku:perl devel:kanku:perl
sudo zypper ref -s
    </code></pre>

    <h2>
    <a id="installation-of-package" class="anchor" href="#installation-of-package" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Installation of package</h2>

    <pre><code>sudo zypper in kanku
    </code></pre>

    <h1>
    <a id="setup-your-environment" class="anchor" href="#setup-your-environment" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Setup your environment</h1>

    <pre><code>sudo /opt/kanku/bin/kanku setup --devel
# if you would like to have more control about the modifications on your system
# please use:
# sudo /opt/kanku/bin/kanku setup --devel --interactive

sudo shutdown -r now
</code></pre>


    <h2>
    <a id="preparing-a-new-project" class="anchor" href="#preparing-a-new-project" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Preparing a new Project</h2>

    <p>init will create a default Kankufile which should give you a good starting
    point. The option "--memory=..." defines the RAM of the virtual guest and is optional.
    Default is 2G of RAM.</p>

    <pre><code># create directory 
mkdir MyProject

# cd in project's directory
cd MyProject

kanku init --memory=1024 --domain_name my-project
    </code></pre>

    <h1>
    <a id="download-create-and-start-a-new-guest" class="anchor" href="#download-create-and-start-a-new-guest" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Download, create and start a new guest</h1>

    <pre><code>kanku up
    </code></pre>

    <h1>
    <a id="connect-to-new-machine" class="anchor" href="#connect-to-new-machine" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Connect to new machine</h1>

    <p>Per default, if it exists, your ssh key is added to the authorized keys file
    Otherwise you can login as<br>
    <ul>
     <li>User: kanku / Password "kankusho"</li>
     <li>User: root / Pasword "kankudai"</li>
    </ul>
    <b>Please change the passwords at first login</b>
    </p>

    <pre><code># Connect with user kanku
kanku ssh

# Connect as user root
kanku ssh -u root
</code></pre>
</div>


<!-- Overview and Concept -->
<div id=overview_and_concept-div class="hidden_content page_container">
    <h1>
    <a id="overview-and-concept" class="anchor" href="#overview-and-concept" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Overview and Concept</h1>

    <p><img src="https://raw.githubusercontent.com/M0ses/kanku/master/docs/kanku_overview.png" alt="Concept Diagram"></p>
</div>
<!-- FAQ --> 
<div id=faq-div  class="hidden_content page_container">
    <h1>
      <a id="faq-href" class="anchor" href="#faq-href" aria-hidden="true">
      <span aria-hidden="true" class="octicon octicon-link"></span></a>
      FAQ
    </h1>
    <h2>
      <a id="a-where_can_i_find_images" class="anchor faq" href="#where_can_i_find_images" aria-hidden="true" onclick='open_faq(this.id)'>
      <span aria-hidden="true" class="octicon octicon-link"></span>
      Where can I find prepared kanku images?</a>
    </h2>
    <div class="faq-div hidden_faq" id=div-where_can_i_find_images>
        Have a look at 
          <a href="https://build.opensuse.org/project/show/devel:kanku:images">devel:kanku:images</a>
        to get an overview of official kanku images. Keep in mind how to configure the selected image in kanku
      <pre>
        <code>
-
  use_module: Kanku::Handler::OBSCheck
  options:
    api_url: https://api.opensuse.org
    project: devel:kanku:images
    # package e.g. openSUSE-Leap-15.0-JeOS
    package: &lt;package name&gt;
    # e.g. images_leap_15_0
    repository: &lt;repository name&gt;

        </code>
      </pre>
    </div>
    <h1>
    <a id="known-issues" class="anchor" href="#known-issues" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>KNOWN ISSUES</h1>
      Please see the open issues on <a href=http://github.com/M0ses/kanku/issues>http://github.com/M0ses/kanku/issues</a>

</div>
      <footer class="site-footer">
        <span class="site-footer-owner"><a href="https://github.com/M0ses/kanku">Kanku</a> is maintained by <a href="https://github.com/M0ses">M0ses</a>.</span>

        <span class="site-footer-credits">This page was generated by <a href="https://pages.github.com">GitHub Pages</a> using the <a href="https://github.com/jasonlong/cayman-theme">Cayman theme</a> by <a href="https://twitter.com/jasonlong">Jason Long</a>.</span>
      </footer>

    </section>
<script src="https://cdn.jsdelivr.net/foundation/6.2.4/foundation.min.js"></script>
<script>
function change_os_version() {
  var os_version_id = $('#os_version option:selected').val();
  var ymp_link_address = "http://download.opensuse.org/repositories/devel:/kanku/" + os_version_id + "/kanku.ymp";
  console.log(os_version_id)
  $(".os_version_id").each(function() {
	$(this).text(os_version_id)
    }
  );

  $("#ymp_link").attr('href',ymp_link_address);

}
function switch_to(container_id) {

  var t_btn = $(this);

  $('.nav_btn').each(function() {
     console.log($(this).text());
     $(this).removeClass("btn_highlighted");
     $(this).addClass("nav_btn btn_dark");
  });

  $('#'+container_id+"-btn").removeClass("btn_dark")
  $('#'+container_id+"-btn").addClass("nav_btn btn_highlighted")

  $('.page_container').each(function() {
     console.log(this.id);
     $(this).removeClass("show_content");
     $(this).addClass("page_container hidden_content");
  });

  $('#'+container_id+"-div").removeClass("hidden_content");
  $('#'+container_id+"-div").addClass("page_container show_content");

}
function open_faq(container_id) {
  var cid = container_id.substring(2);
  console.log("Container ID:"+cid);
  var t_btn = $(this);

  $('.faq-div').each(function() {
     var t_id =  $(this).attr('id').substring(4);

     console.log( t_id + " != "+ cid);
     if ( t_id != cid ) {
     	$(this).addClass("hidden_faq");
     }
  });

  $('#div-'+cid).toggleClass("hidden_faq shown_faq")

}
function switch_to_anchor() {
  var anchor = window.location.hash.substring(1);
  console.log(anchor);
  if ( anchor ) {
  	switch_to(anchor);
  }
}

// initialize foundation
$(document).foundation();

// document.ready()
$(function() {
  change_os_version();
  switch_to_anchor();
});
</script>
 
  </body>
</html>
